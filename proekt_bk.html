<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="css/bship.css">
<style>

</style>
</head>
<body>
<h2>Игра</h2>
<h3>ПИРАТСКИ КОРАБИ</h3>
<h4>морски шах</h4>
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="css/bship.css">
<style>

</style>
</head>
<body>
<h2>Игра</h2>
<h3>ПИРАТСКИ КОРАБИ</h3>
<h4>морски шах</h4>

<table id="myTable">


  <tr>
    <td id="00">cell 00</td>
    <td id="01">cell 01</td>
    <td id="02">cell 02</td>
    <td id="03">cell 03</td>
    <td id="04">cell 04</td>
    <td id="05">cell 05</td>
    <td id="06">cell 06</td> 
  </tr>
  <tr>
    <td id="10">cell 10</td>
    <td id="11">cell 11</td>
    <td id="12">cell 12</td>
    <td id="13">cell 13</td>
    <td id="14">cell 14</td>
    <td id="15">cell 15</td>
    <td id="16">cell 16</td> 
  </tr>
  <tr>
    <td id="20">cell 20</td>
    <td id="21">cell 21</td>
    <td id="22">cell 22</td>
    <td id="23">cell 23</td>
    <td id="24">cell 24</td>
    <td id="25">cell 25</td>
    <td id="26">cell 26</td> 
  </tr>
  <tr>
    <td id="30">cell 30</td>
    <td id="31">cell 31</td>
    <td id="32">cell 32</td>
    <td id="33">cell 33</td>
    <td id="34">cell 34</td>
    <td id="35">cell 35</td>
    <td id="36">cell 36</td> 
  </tr>
  <tr>
    <td id="40">cell 40</td>
    <td id="41">cell 41</td>
    <td id="42">cell 42</td>
    <td id="43">cell 43</td>
    <td id="44">cell 44</td>
    <td id="45">cell 45</td>
    <td id="46">cell 46</td> 
  </tr>
  <tr>
    <td id="50">cell 50</td>
    <td id="51">cell 51</td>
    <td id="52">cell 52</td>
    <td id="53">cell 53</td>
    <td id="54">cell 54</td>
    <td id="55">cell 55</td>
    <td id="56">cell 56</td> 
  </tr>
  <tr>
    <td id="60">cell 60</td>
    <td id="61">cell 61</td>
    <td id="62">cell 62</td>
    <td id="63">cell 63</td>
    <td id="64">cell 64</td>
    <td id="65">cell 65</td>
    <td id="66">cell 66</td> 
  </tr>
</table>

<p class="text1">Пирати искат да нападнат остров Папая. Тяхната флотилия се състой от три кораба. За да спасиш островитяните, ти трябва да обезвредиш корабите, като ги откриеш.</p>
<p id="notship"></p>
<p id="demo"></p>
<p id="demo1"></p>


<p id="demo2"></p>
<button id="start">Start</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
 var shipArr=[];

$(document).ready(function(){

    var h3=$("h3");
    h3.animate({left: '100px'}, "slow");
    h3.animate({fontSize: '3em'}, "slow");
    $("#start").click(function(){
         $("#myTable").fadeIn(3000);
        $("td").addClass("water");//на всички <td> се присвоява клас water
       
        //======присвояване клас ship на случайно избрани клетки======//
       // var shipArr=[];
        for (var numShip = 0; numShip < 3; numShip++) {
                
        var col = Math.floor((Math.random() * 5) + 1);
       // document.getElementById("demo").innerHTML = col;
        var row = Math.floor((Math.random() * 6) + 0);
       // document.getElementById("demo1").innerHTML = row;
        var idtd = col*10 + row; 
        var residtd = idtd.toString();
        if (document.getElementById(residtd).className != "ship") {
            //document.getElementById("anew").className = "ship";
            document.getElementById(residtd).className = "ship";
            console.log(idtd);
            shipArr[numShip]= idtd; 
          //  console.log(shipArr[numShip]);
            //numShip=numShip+1;            
        } else if (col!=6) {
            col=col+1;
            } else {
                col = col -1;
            }
            var idtd = col*10 + row; 
            var residtd = idtd.toString();
            document.getElementById(residtd).className = "ship";
           // console.log(idtd);
            shipArr[numShip]= idtd;
           // console.log(shipArr[numShip]); 

           // numShip=numShip+1; 
        }
   
       // $( ".ship" ).hide();
    //document.getElementById("45").style()
        //$("#anew").addClass("ship");
        //document.getElementById("demo3").innerHTML = idTd;
    


//========== сменя цвета на клетката от синьо в сиво при избор на тази клетка, ако не е кораб, ако е кораб се показва той
    var numberHitShip=0;
    var notHit=0;
    $("td").click(function(){ 
        
       // $("#text1").text("Браво! Ти позна всички кораби!");
       if ($(this).hasClass("ship") ) {
           $(this).css("background", "url('img/ship.png') no-repeat center center" );
           document.getElementById("notship").innerHTML = "Браво! Ти позна кораб!";
           numberHitShip = numberHitShip + 1;
           //alert(numberHitShip);
           if (numberHitShip>=3) {
            //какво става когато са открити всички кораби
           // alert(numberHitShip);
            var notHit1 = notHit + 3;
            document.getElementById("notship").innerHTML = "Браво! Ти позна всички кораби след "+notHit1 +" опита!";
           
           }
          // $(this).show();    
        }else if (numberHitShip<3) {
            var color = $(this).css('background-color');
            if (color != '#cccccc') {
           // if (($(this).css("background-color"))!= "#cccccc") {
                notHit = notHit+1;
             }   else {
                notHit = notHit;
             }
            //============} else { //за 
           $(this).css("background-color", '#cccccc');
           var thisHotHitId=$(this).attr('id');
           var resRowNot = thisHotHitId.substr(0, 1);
           var resColNot = thisHotHitId.substr(1, 1);
          // alert(resColNot);
          // alert(thisHotHitId, resRowNot, resColNot);
          // alert($(this).attr('id'));

                //notHit = notHit+1;
           //да се изпише колко кораби има в тази редица и в тази колона
             
          var residtdArr0 = shipArr[0].toString();
          var residtdArr1 = shipArr[1].toString();
          var residtdArr2 = shipArr[2].toString();
           document.getElementById("notship").innerHTML = "Не уцели!";
           // console.log(shipArr[0]);
           //console.log(residtdArr1);
           var resRowShips0 = residtdArr0.substr(0, 1);//
           var resColShips0 = residtdArr0.substr(1, 1);//
           var resRowShips1 = residtdArr1.substr(0, 1);//
           var resColShips1 = residtdArr1.substr(1, 1);//
           var resRowShips2 = residtdArr2.substr(0, 1);//
           var resColShips2 = residtdArr2.substr(1, 1);//
            //console.log("row ",resRowShips0);
             //console.log("col ",resColShips0);
             if ((resRowNot==resRowShips0) || (resRowNot==resRowShips1) || (resRowNot==resRowShips2)) {
                 document.getElementById("notship").innerHTML = "Не уцели! На този ред има кораб.";
                 if ((resRowNot==resRowShips0) && (resRowNot==resRowShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
                 if ((resRowNot==resRowShips0) && (resRowNot==resRowShips2)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
                 if ((resRowNot==resRowShips2) && (resRowNot==resRowShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
             }
             if ((resColNot==resColShips0) || (resColNot==resColShips1) ||(resColNot==resColShips2)) {
                 document.getElementById("notship").innerHTML = "Не уцели! На тази колона има кораб.";
                 if ((resColNot==resColShips0) && (resColNot==resColShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
                 if ((resColNot==resColShips0) && (resColNot==resColShips2)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
                 if ((resColNot==resColShips2) && (resColNot==resColShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
             }

         //=======}//else за сивия цвят, да не брой повторно натискане върху такава клетка
        }


    });


});
     

//==========

//========== сменя цвета на клетката от синьо в сиво при избор на тази клетка
/*
$("td").click(function(){  
        $(this).css("background-color", "#cccccc");
    });
*/
//==========



});//end ready
</script>

</body>
</html>

<table id="myTable">


  <tr>
    <td id="00">cell 00</td>
    <td id="01">cell 01</td>
    <td id="02">cell 02</td>
    <td id="03">cell 03</td>
    <td id="04">cell 04</td>
    <td id="05">cell 05</td>
    <td id="06">cell 06</td> 
  </tr>
  <tr>
    <td id="10">cell 10</td>
    <td id="11">cell 11</td>
    <td id="12">cell 12</td>
    <td id="13">cell 13</td>
    <td id="14">cell 14</td>
    <td id="15">cell 15</td>
    <td id="16">cell 16</td> 
  </tr>
  <tr>
    <td id="20">cell 20</td>
    <td id="21">cell 21</td>
    <td id="22">cell 22</td>
    <td id="23">cell 23</td>
    <td id="24">cell 24</td>
    <td id="25">cell 25</td>
    <td id="26">cell 26</td> 
  </tr>
  <tr>
    <td id="30">cell 30</td>
    <td id="31">cell 31</td>
    <td id="32">cell 32</td>
    <td id="33">cell 33</td>
    <td id="34">cell 34</td>
    <td id="35">cell 35</td>
    <td id="36">cell 36</td> 
  </tr>
  <tr>
    <td id="40">cell 40</td>
    <td id="41">cell 41</td>
    <td id="42">cell 42</td>
    <td id="43">cell 43</td>
    <td id="44">cell 44</td>
    <td id="45">cell 45</td>
    <td id="46">cell 46</td> 
  </tr>
  <tr>
    <td id="50">cell 50</td>
    <td id="51">cell 51</td>
    <td id="52">cell 52</td>
    <td id="53">cell 53</td>
    <td id="54">cell 54</td>
    <td id="55">cell 55</td>
    <td id="56">cell 56</td> 
  </tr>
  <tr>
    <td id="60">cell 60</td>
    <td id="61">cell 61</td>
    <td id="62">cell 62</td>
    <td id="63">cell 63</td>
    <td id="64">cell 64</td>
    <td id="65">cell 65</td>
    <td id="66">cell 66</td> 
  </tr>
</table>

<p class="text1">Пирати искат да нападнат остров Папая. Тяхната флотилия се състой от три кораба. За да спасиш островитяните, ти трябва да обезвредиш корабите, като ги откриеш.</p>
<p id="notship"></p>
<p id="demo"></p>
<p id="demo1"></p>


<p id="demo2"></p>
<button id="start">Start</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
 var shipArr=[];
$(document).ready(function(){
    $("#start").click(function(){
        $("td").addClass("water");//на всички <td> се присвоява клас water
       
        //======присвояване клас ship на случайно избрани клетки======//
       // var shipArr=[];
        for (var numShip = 0; numShip < 3; numShip++) {
                
        var col = Math.floor((Math.random() * 5) + 1);
       // document.getElementById("demo").innerHTML = col;
        var row = Math.floor((Math.random() * 6) + 0);
       // document.getElementById("demo1").innerHTML = row;
        var idtd = col*10 + row; 
        var residtd = idtd.toString();
        if (document.getElementById(residtd).className != "ship") {
            //document.getElementById("anew").className = "ship";
            document.getElementById(residtd).className = "ship";
            console.log(idtd);
            shipArr[numShip]= idtd; 
          //  console.log(shipArr[numShip]);
            //numShip=numShip+1;            
        } else if (col!=6) {
            col=col+1;
            } else {
                col = col -1;
            }
            var idtd = col*10 + row; 
            var residtd = idtd.toString();
            document.getElementById(residtd).className = "ship";
           // console.log(idtd);
            shipArr[numShip]= idtd;
           // console.log(shipArr[numShip]); 

           // numShip=numShip+1; 
        }
   
       // $( ".ship" ).hide();
    //document.getElementById("45").style()
        //$("#anew").addClass("ship");
        //document.getElementById("demo3").innerHTML = idTd;
    


//========== сменя цвета на клетката от синьо в сиво при избор на тази клетка, ако не е кораб, ако е кораб се показва той
    var numberHitShip=0;
    var notHit=0;
    $("td").click(function(){ 
        
       // $("#text1").text("Браво! Ти позна всички кораби!");
       if ($(this).hasClass("ship") ) {
           $(this).css("background", "url('img/ship.png') no-repeat center center" );
           document.getElementById("notship").innerHTML = "Браво! Ти позна кораб!";
           numberHitShip = numberHitShip + 1;
           //alert(numberHitShip);
           if (numberHitShip>=3) {
            //какво става когато са открити всички кораби
           // alert(numberHitShip);
            var notHit1 = notHit + 3;
            document.getElementById("notship").innerHTML = "Браво! Ти позна всички кораби след "+notHit1 +" опита!";
           
           }
          // $(this).show();    
        }else if (numberHitShip<3) {
            if ($(this).css("background-color")!== "#cccccc") {
                notHit = notHit+1;
            }
           $(this).css("background-color", "#cccccc");
           var thisHotHitId=$(this).attr('id');
           var resRowNot = thisHotHitId.substr(0, 1);
           var resColNot = thisHotHitId.substr(1, 1);
          // alert(resColNot);
          // alert(thisHotHitId, resRowNot, resColNot);
          // alert($(this).attr('id'));

                //notHit = notHit+1;
           //да се изпише колко кораби има в тази редица и в тази колона
             
          var residtdArr0 = shipArr[0].toString();
          var residtdArr1 = shipArr[1].toString();
          var residtdArr2 = shipArr[2].toString();
           document.getElementById("notship").innerHTML = "Не уцели!";
           // console.log(shipArr[0]);
           //console.log(residtdArr1);
           var resRowShips0 = residtdArr0.substr(0, 1);//
           var resColShips0 = residtdArr0.substr(1, 1);//
           var resRowShips1 = residtdArr1.substr(0, 1);//
           var resColShips1 = residtdArr1.substr(1, 1);//
           var resRowShips2 = residtdArr2.substr(0, 1);//
           var resColShips2 = residtdArr2.substr(1, 1);//
            //console.log("row ",resRowShips0);
             //console.log("col ",resColShips0);
             if ((resRowNot==resRowShips0) || (resRowNot==resRowShips1) || (resRowNot==resRowShips2)) {
                 document.getElementById("notship").innerHTML = "Не уцели! На този ред има кораб.";
                 if ((resRowNot==resRowShips0) && (resRowNot==resRowShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
                 if ((resRowNot==resRowShips0) && (resRowNot==resRowShips2)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
                 if ((resRowNot==resRowShips2) && (resRowNot==resRowShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На този ред има поне два кораба.";}
             }
             if ((resColNot==resColShips0) || (resColNot==resColShips1) ||(resColNot==resColShips2)) {
                 document.getElementById("notship").innerHTML = "Не уцели! На тази колона има кораб.";
                 if ((resColNot==resColShips0) && (resColNot==resColShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
                 if ((resColNot==resColShips0) && (resColNot==resColShips2)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
                 if ((resColNot==resColShips2) && (resColNot==resColShips1)) {document.getElementById("notship").innerHTML = "Не уцели! На тази колона има поне два кораба.";}
             }


        }


    });


});
     

//==========

//========== сменя цвета на клетката от синьо в сиво при избор на тази клетка
/*
$("td").click(function(){  
        $(this).css("background-color", "#cccccc");
    });
*/
//==========



});//end ready
</script>

</body>
</html>
